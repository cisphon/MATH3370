#include <Rcpp.h>

#include <vector>
#include <fstream>

using namespace std;
using namespace Rcpp;

// [[Rcpp::export]]
List rcpp_hello_world() {
    CharacterVector x = CharacterVector::create( "foo", "bar" )  ;
    NumericVector y   = NumericVector::create( 0.0, 1.0 ) ;
    List z            = List::create( x, y ) ;

    return z ;
}

// [[Rcpp::export]]
void put_nums_in_vector_double(vector<double> &nums, string filename) {
  ifstream in(filename, ios::in);
  
  double number;
  while (in >> number) //Read number using extraction (>>) operator
    nums.push_back(number);
  
  in.close(); //Close the file stream
}

// [[Rcpp::export]]
void print_vector(const vector<double> &vec) {
  for (int i = 0; i < vec.size(); ++i)
    cout << vec[i] << " ";
  cout << endl;
}

// [[Rcpp::export]]
vector<double> run()
{
  vector<double> nums;
  put_nums_in_vector_double(nums, "src/input.txt");
  print_vector(nums);
  /*
  for (int i = 0; i < nums.size(); ++i)
    nums[i] = nums[i] / (nums.size() + 0.0);
  */
  return nums;
}